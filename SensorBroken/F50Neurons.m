function [Y,Xf,Af] = F50Neurons(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 27-Oct-2021 12:02:29.
%
% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:
%
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = Qx24 matrix, input #1 at timestep ts.
%
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = Qx3 matrix, output #1 at timestep ts.
%
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [2.74672846420334;2.99339257627897;3.11101651268385;2.97992455060494;2.84536219383707;3.02915015649867;3.22904889183513;3.05265795565247;2.71525256028943;2.93692733444203;2.99323737867601;2.97983311125926;2.8340192882817;3.02767064753857;3.22707619011864;3.0538086153282;2.74639961832403;2.99280059758409;3.11331798083788;2.979011175285;2.84333706173036;3.02898576991282;3.22707620242679;3.05315109692139];
x1_step1.gain = [8.69776126214666;6.50069405565342;1.17121811354041;8.80684814775208;8.37315088219271;6.34976487582756;6.44715342180657;6.41582970781407;7.86707852907923;5.55951782781702;1.09589207355617;9.02534645161897;8.04642115395422;6.41674601131457;6.53038855004525;6.58445558949284;8.11080284367403;6.05547158727141;1.17138364213643;7.80382523980112;7.94490725300943;5.95504063879076;5.96963224452658;5.79340080556314];
x1_step1.ymin = -1;

% Layer 1
b1 = [19.607342032581620117;2.8791059743239753033;27.512229594690648327;6.5928137674287050629;-42.007021919243406671;9.8577438698889174873;14.908846272326613303;-15.353378962447234102;-5.5552547414097430689;7.17913159595602135;-3.5847436354792372448;-9.6629206878632967204;26.247339449321771099;36.139637258396817288;-16.932450092899792082;-6.4943347736418211014;-0.1067457756465035601;0.81276305742170662505;-11.712976582090108835;6.8970747370372249563;4.7728463753260967906;-43.579559709113951271;6.1809715998080836385;20.607142134813120293;-2.3975198679383113998;12.295140924224293499;29.283433089507362013;-10.233578405008330492;76.503145380418644095;-8.0825220613807715608;-6.6897916731180924188;-45.927413608720598859;-6.8695923980856674618;-4.9623551120927054114;39.313355929848007975;9.5134869792242042763;-24.126793443419124685;-3.455386885213188819;-2.1284911240000661259;16.614994066258610417;-12.553411735495192403;-6.5099441046322779059;30.082484295460936607;-20.600532143786626449;4.5260567494395669286;-20.959576708823270508;14.198378938360594503;-28.156922091408212339;11.645062115696811489;-8.7307967413221589936];
IW1_1 = [69.942905175157704889 69.445099095365819153 -31.486606900830572897 145.63870142811799724 235.9223175443130458 18.495965438459467833 -40.511777181603846998 10.572743483618184612 -84.656618108898754826 -47.657945316994407392 1.7659829467310361739 -172.46998395225111267 -100.71530618407388147 -29.940854147165921972 30.084702407479447572 -28.477171515478477914 9.8964884858019210867 -5.6711143582026215526 39.665191661615651242 27.583227875445039956 -163.85254579320090329 14.053389931647092936 8.7295733511396811366 -6.8974457940340778705;12.709526963994653315 -47.573239535267063616 38.126573580198339641 -64.480211629265426154 8.3054390516404001943 31.742876424823993631 55.196240484325954867 -22.507887209509725324 -27.054339436646671402 51.170411645045781768 -15.656531038397837108 39.189112446459105854 27.850514819541505318 -65.045684029947636873 -57.21663557747682205 56.8970842225518183 4.948525460535345033 39.374339600167701292 -14.424941552109430631 39.140884219830994084 -24.103777883541248173 48.660327586164427771 -13.448609540227963066 -30.724211794080794391;74.51684842433806466 42.002121030109833555 0.28570426639979995542 9.5422957802808880956 48.073765805195236567 45.856100098291740608 -28.880161939672184701 -36.523593209088502931 -121.13333442800232831 23.476943574079903954 -26.86954804080873771 -64.706717169267662371 -143.68702237982921588 -53.830845044166842683 22.375949089947276605 0.42141684538511592351 75.254618698219459816 -72.21939406772267489 43.326981046377213147 47.161621007942770234 84.06798624742134507 36.181463187538064119 18.79189179991596248 20.607325641581851983;2.7925495456979718689 -0.66341786518702750008 37.534281814709331115 -183.18898035114582967 7.2144899143914571482 -1.548373758495408925 12.754277873482880779 -5.9243371344630428865 -14.224448909884412018 -1.6624731604541620467 -34.280673672516151385 142.76432927814744289 -17.337680608967875884 3.7465560067290475388 -11.671619936194074896 8.7102957853472293692 9.3400121305491072832 4.1694522538974077008 -4.0538984618618734146 43.017572983187697844 10.875866029033646853 -2.4806075868453509869 0.45214817093371184598 -3.8267051059920125233;-92.115172114078006871 -73.186625370647945488 -73.420752256299010696 -29.209299598958061495 48.829319295815231783 36.685205128687300657 -45.696555525785754526 66.097810354317886095 80.676033355292091187 101.24213684292021753 -25.767975388230880185 28.713734079435294433 -122.65345765595688476 -78.367694381648917101 22.813616437728647668 -34.932047914667137434 -82.466919538348420815 -72.580844096357253648 -16.859832433066166857 8.4855315232363501821 78.196438385085826894 -106.64592356739976253 -28.773511978899147579 -73.476754947106229565;21.276819182071069037 8.1190983934694429536 49.680498756225944135 -151.65541346024380687 76.573147051350503034 -30.159018744594568773 6.9206900878991888248 3.9510749842668775322 -30.164706151351495578 1.6837068444738418904 -31.539100882773897894 146.18262780765880393 -69.013687849882714431 24.549020965774708714 -17.627434822906177914 -14.347192193976598062 1.2329437192677645818 -15.384627730099126097 -24.323985408383531848 3.3889104946548660457 -9.3084181712772711137 7.8706832582013772637 10.719304847698605698 12.182860555878120223;-5.0764151986680685624 -2.0620862297072473091 -28.136283381067897835 168.73264653883893516 7.3037569723439164093 -3.2448238438650860438 0.059439135166357903728 -4.2281005529013908628 0.9813020824829731259 1.9038186784304507171 36.93121646979489725 -246.18592856057551899 -6.6659170512807879305 5.1502224689967315285 -1.3851743887733718452 7.2149275858391686 5.6399973389455571038 -0.12622739715387820691 -6.142716013853744883 93.977724317008878074 -1.0258424828690182462 -2.6303049119260784039 2.081002508017288477 -3.1783052795321045103;13.809620285805550566 -47.317406013296036349 -16.825189800917353722 73.902571815770812691 -6.2170636070909317539 -49.922114970469074535 -22.422516680616030982 40.421852550472586074 -47.516475183215661104 56.679084362165006894 14.260759149980245297 -84.643964269827421276 39.879765355344318323 125.71663286250110048 7.2185618594897000833 -60.93125452283408805 -16.638988986001056247 -37.204397949591665906 2.9877565495815394669 0.16997950815623005805 9.6801171529256109238 -58.151233114648853473 36.095507301431069891 54.48295083384581261;-43.688650127028431314 66.915682550921147254 -6.8964117543116678632 98.950984847677702305 -79.255804559244396046 -30.656723629719344615 -65.867229613626079754 50.503868227739118879 22.633157833942881609 -19.158709373406178855 -0.90891104402579747656 -88.223526944356962076 114.03792775459844222 -6.4267384895536388001 43.771761263371409711 -105.58617792811092784 -1.0244967368285760045 -60.795492776318361905 12.380565411928834862 -13.473466804008261022 -33.34235646414641252 48.341087374294602341 38.133817244965044324 57.08817314745017768;78.192921523434904429 -5.5106943924959637116 -8.8033281179462825605 50.495654509410314859 17.474938082204701573 0.23146233755849349167 -46.376383251769652816 26.64850825148620217 -55.513937595890126886 12.90001387991235049 18.420875148698709012 -61.562642449687253077 -36.203896281539257984 -17.24716025526033647 43.376194625316792042 -39.006051852441572692 -26.809549254144044994 -3.4075514242802320553 -6.6918984108427421731 7.650872638680104032 13.29761982482743754 11.206655598850330691 -0.011097407444793372377 10.159874986200653879;4.6592169365283355731 7.592217015636942179 -4.6427971756781110102 -10.495698972605318033 -14.185510872627361323 -16.089422332635955115 -15.116838309875889834 -7.8755947829642352076 -3.67327921475471042 0.50781112505101977384 1.1068173765392463892 6.052563339286362698 20.940235461228478897 17.359541761662796944 8.9039261573382866288 13.464727993356559566 -3.4817881592620896214 -6.2753790285524067016 2.7808121413624657947 3.8746923537499502466 -7.3178104046807774807 -1.9124166361550529736 5.1036117495086834595 -8.6064601066619665914;-41.457741610175673941 -16.582267525391440444 -20.529108736549474656 75.819813443323738511 14.250360800184143528 -10.8522698394940047 28.214408100089254816 -16.917657295671784112 53.5400645855031172 14.161171791496663275 17.516731645545490892 -73.915881980072441593 -15.935037101545145077 15.4275711052363107 -27.293260339779834567 30.922613477210241228 -9.7478115401976843657 2.9002177580600858597 2.2312051843943256912 -1.1884458814957077344 3.0589296444984563905 -3.3736109039888817485 0.51457225992605160059 -12.360614727915955058;94.833598655798212462 -113.31215982431805855 64.106218469350551459 -76.372203632258518269 16.680951238700234995 78.912782899820356874 98.577610857107814013 25.30161476165980261 1.5866690084938106509 -8.8114885705670378258 28.330493808737038819 -9.9577943576084582133 72.197226967101684636 -124.04259342379687325 -94.758429459368230141 32.687591103409154414 83.229447775670450937 61.047326114747491488 -75.743702947113732193 72.426920155946518776 -85.768393542952111375 34.745563127514742519 40.664733869259627852 -31.318538568031137004;20.666257244734506315 68.906817378115746919 -55.447130888224563705 34.780970354278785805 85.703838679085365015 148.92449392993512447 -208.90905947311100022 72.294193371734351672 34.082145182820013929 -66.311626093975746699 47.719397324653478165 -29.635020455449193832 -108.57431654997554915 -238.54896891661741165 251.34554990784457118 -111.12279205194522547 17.709221119956016111 -37.850373840862836516 -9.3150754421439607711 26.954145775721702449 -0.0053754764718325631634 50.264095781468697055 -66.150241973938619822 62.134730623729566901;-0.71842944012073406412 26.495647513434914089 11.478300735343196948 -30.686673539794217191 35.580740717546902374 48.29109435536108208 17.892442894627254901 0.12080178267353414157 25.632740600506345174 -33.630827513454605082 2.6144020565944767753 7.0102218726447294017 -46.480861845101486551 -54.287201095524501682 -27.673404923312656223 -20.214413390891429856 2.4778881063897433279 -17.293677121642634376 -4.1677390658264936718 -14.590508443681184048 8.7452587361163125479 1.596421061496453575 0.68440926804949264728 21.326257601995312285;23.840320602612518286 20.067215106553984327 9.0497546557777610587 -92.081001440115898049 137.73431430053156532 20.84414357705335874 -90.996982931168560071 -59.480553155165772239 -60.738858291756848473 -94.087082513683441221 27.025531325762234047 22.17280173362436102 -169.43350732089291455 31.672237306203111729 79.949075599516760349 44.143445753842989632 47.837405887293769524 -2.5276923405492923713 -30.626545371070498902 27.737763657191329969 38.844479001872521451 -24.081875273203472432 25.127949412205143886 -22.090447514948309049;-53.895227909026445445 -35.847420176363776534 -26.537695097137021349 54.235906702810446234 -27.924177216096122578 14.10351518262130277 28.629845954221003979 39.612778408700513921 93.827618131261829149 -69.817567931750247112 -7.5537145400947647289 -30.437133439330306572 61.404407824697628371 -16.380233693452940003 -49.920137274946242201 -53.112578480599914599 -9.9748600526284985079 115.07468762156469211 25.621477025336400146 -23.398077329898477217 -4.8622654575247672426 1.2483873525068931443 16.609753540153956664 30.152556717017755972;-1.6624194533040637101 -19.294194676820005441 35.80461636328472963 -60.774282929941563225 -7.5106780485257340629 2.071303432706407488 -13.104126502770871099 3.2127392060850810118 -14.942287593253203326 15.439465304157895531 -35.716259813004747059 57.44629670829973378 32.243633840845227212 3.8753445086754996218 4.5373415046940142048 -12.036676113941480182 15.811537924664250454 7.1094459983882583032 -0.61868899474478411538 3.228213766191218248 -22.722577225297992953 -5.5331052109933427374 10.90514785907980766 8.7687300573999706899;41.586994257057206426 -15.283734427560350611 20.083723163066075301 -34.339041859650130561 -71.320409079349460058 -25.744171189426470647 -10.254297030482579345 -32.159518054214792926 -31.013144448646190909 11.67165475916085704 -15.685727911990138495 30.509821711360149976 111.9840137337572088 33.780115521319437732 2.0560962175777182104 28.313511782608063783 -20.956179269984765767 15.967477912425243503 4.5234698687359289337 4.8435879978625795417 -43.515969981005511613 5.7106053292904395136 13.074204054037947387 -2.7966843350701209303;27.469743663552470991 -40.052788841816955312 -13.90983365910073033 4.5997937529277690416 63.059541989777656568 -46.541356186293448616 -12.641690724684446323 -10.398682670260487981 -58.213904661957982967 56.686082298869074236 -5.4045723730299988219 -16.487642254842871381 -142.28379396826275638 50.23534033172377633 16.847025845151399892 16.100470220983627456 17.824745873976951316 4.2142348467920029975 19.976243514037204108 5.5491573823981985569 73.546546266896967836 -14.302047722861072288 -7.9341935510518286634 -1.8136248949695206178;24.596364003506145934 11.030291278106311381 -10.188575851904243308 29.734313990618872481 39.775632881385689643 -48.889970712379110296 1.2406614634555030996 13.758573493077093985 -21.029593111160004071 1.6751792876220406026 8.8776038461030797322 -35.161654037152146657 -54.35972482981423326 72.024210445793002577 -3.1494039425097213325 -17.957550258330755355 0.62212061522001571578 -18.003477715153810124 -2.178131619289829235 4.6673550519562017058 2.6556693996398448299 -26.758794716168438299 6.9456471231669700828 8.3638085546434499662;-65.974433412760220108 -11.626894519825643926 -3.4837245749379395221 23.114664912612077785 -29.313047990891881511 76.72531907609518953 -11.664194329007329998 37.615371493728083863 55.58204967543058217 57.667146867006358946 -17.116331203571501618 17.680616536305887365 17.782688163025660799 -2.5932866645938599248 38.253691008337007418 -9.0041698808166188428 7.0922715802621167924 8.1776509317625638573 59.062327689014651355 -28.948834864992377902 -2.5097146544133757118 -48.146458139299241452 2.7490273172272967628 -63.331685737325244645;-19.097311219963955864 -14.105217557380452575 22.285060506388738588 -44.163043566555245434 28.857715613765591911 19.358314501139545882 -30.412113617954830147 -21.99586122815798106 -38.992371760278111026 21.345302216978137011 -29.152070531022193478 26.724835793056765709 -43.444099300364335647 21.903020871939069991 29.977787504100088967 39.104237797047566971 59.497465690391230453 -2.3718112335431991156 7.5643212962021113555 15.992841753674648331 12.856460767496489694 -38.875098903969089292 4.684247995054660052 -20.242929854982065763;78.160994036201728363 3.2430782458669096258 -16.865395665482211029 28.370680757524773696 10.425283359893933621 7.5808023044303816107 -9.4087369299222878283 -1.3202322690961723062 -106.30872858371810707 -0.37057395624901889875 -2.8330793626929038354 -24.625895462529122426 -12.736240070534972091 -54.109621741173498322 12.115623995078353303 2.2198107882960513848 17.079653096957411407 -4.496199548780817068 18.65707488428521188 -7.9636753924259622295 0.24417761958859429683 49.202654659813696014 -1.8637663468016776314 0.033501675115392037796;-78.292824043492714736 -8.1861540896151829827 5.4302630241485392304 -8.3974600133186534379 -12.888603449000093804 0.94417021000624534732 -20.124958060302610363 10.179456104098195013 43.710309827116923032 -11.989767036354889385 2.4965603012783046388 10.125096450287307093 18.671834720333922775 1.9946217572381645944 28.015939655509392026 -14.979028249752154522 40.82885865503718037 20.857466160119820131 -8.1016617536999486759 -0.99556750969097507209 -4.6967080145665311974 -3.6053677070773781921 -9.4842199438189265237 6.9718137155653465697;-4.9502985624367523698 5.7881372566322246698 2.1760659194137286221 -1.2863537788772718695 114.66777441774932811 6.6566754724384677999 7.8669005824532680649 -0.82523933025992213253 10.197091808757434706 -4.7994798253032211477 0.85422329044849254487 3.9294139931207348049 -185.11499215943982222 -5.3662666199989974558 -8.1426189479716306607 1.6065496394047618089 -4.9016647042497716313 -1.999285002574941128 -3.3087356965576999457 -2.4206799082186698513 67.235103947611506214 -1.7039757577142953249 0.50438834246836750097 -0.83788582645560905071;91.269465861993424483 56.57170776798106715 72.848811829272037244 -114.21149467109108855 38.821346877776207407 -81.854577016997140504 61.399483349678106947 34.128728428488450675 -146.85730707774268922 -55.339211195933266652 9.0571738114543478559 129.47188968291834499 -31.419565118437880358 93.81437339491267835 -0.36537145869802900577 12.071640368071474114 48.254169309276406352 16.765977175349878081 -62.220390927016985927 -17.862559874240396596 -24.519527743583367396 -63.852294345847631973 -35.537685032531904028 -47.96223999786580805;8.3617250314432727265 -1.2182922203412402951 0.10103157206028301474 -1.289819771500362755 -6.4539874087526225566 -0.5465038944255220521 5.2038176213213471755 -77.430012705865507883 -11.086367379396754984 -0.31090178428507186936 -0.2625555967395389878 -0.17937385388441562384 11.588928284252613565 -0.01308551770290478089 -5.5303632719368325255 148.35761454232167011 2.3442609576078403677 2.6168244129588096314 1.4522144849239473352 1.567150236377246264 -4.725763573977552312 1.8640043903422167659 0.81475832610749154838 -83.612839654867684658;64.934973443696435424 113.52694216922671444 -34.99811905696357428 -15.242989453019299972 -98.239090267743833351 107.34435965177293326 145.57428756392496894 53.172998188530797847 7.9404059253978100941 -161.26903423395435766 -80.258595925637166602 -12.277771636778991748 83.479350928352616279 -161.75686509853775874 -137.34531731166956092 5.3424940748842990601 8.4010339788873711342 -45.971009935095516141 83.523295837729776281 32.154833135394724764 26.117213771207879347 51.042032274958998528 2.8267729598761333065 31.425403892818312812;-45.701625137483979699 141.1800062564394409 -60.734697081591917822 -28.489438619072846137 -55.397678204731647611 -99.737012177603148189 -93.357632035999998266 -24.296148662646025684 126.30356910336054455 -109.16872546999370286 -94.847216776555356432 1.1515296619324164595 52.71721255331608802 67.249948821494612616 76.388872697210828733 69.808422377795878333 -28.799164849689283585 -83.251477180311795223 104.94483260420803106 -31.903349469193120314 -80.971540427158316788 -24.47089473062834486 52.27415698018892698 -31.621040001433922129;61.972289103928972054 -30.704790826161264761 -12.288279102695746303 34.066834799350125706 12.515248293010563074 -50.391266956146928635 -42.592831253695322857 -45.251751721480459878 -42.158833064385220268 18.891406517402383969 -8.951658248231327164 -4.6966537901041300884 -32.382085038839775848 88.869211362450229785 70.086474270212534066 38.013500371487054963 -14.377847318947786448 6.3350668339724114375 20.413868116864176017 -28.064368692953955531 16.704915233463765389 -41.220568866996998736 -19.592455163411809593 -3.93748245047697365;-8.5056734478102189456 -213.77467987360131474 -47.398380496521589578 33.884946026853988599 -41.212645385854358437 0.72425449588889545538 -123.06308477841625404 37.274571122660880462 32.84283941214568614 184.15554347447906025 -6.0168002190690366149 -30.288720591838806939 57.97072710349588931 -23.65066445347538604 123.14301425282519631 79.201705440989471185 -15.83041302470094891 -1.8555213064468196738 49.591672440570228275 -38.267908957017368721 5.5458472597534482773 29.689118933292739655 67.195080999141680422 -65.725104935629062197;77.179586215211188005 -92.304989775021994092 -4.2107218436692992469 -13.666602812467376182 -62.951518772415070657 -17.508570379603387579 -26.849808962966790205 -0.37993036469353835827 -70.319041694404759824 84.643415073775457813 0.78907461373657428183 12.672261602407292713 121.07851279702678937 35.740097636314970941 7.4675502236791011512 16.618621956567430686 -15.995408170163056383 24.669764779495711338 7.024493551310216688 13.130952947792090768 -53.709775105696145658 -14.936705653708177266 16.165128380658178031 -6.5479076473282615822;-27.256312411316972799 -1.314803694882324514 -0.88981391971469414592 4.718653287059622059 -1.6607535783374336447 0.84110323835484013255 8.4690872191278039338 -1.7417003558495984805 39.54732250454227227 2.2025098778902663099 1.3130151069076223536 -6.8129149603133338786 0.99870615690949149368 -1.8766369095420563085 -13.43100262091431496 1.4357130281551759854 -8.8600698598962495112 -0.97346666486831623377 -0.56443437344126046185 2.965869732011283233 0.81917666170589209518 0.99535908450330934372 5.3762814125599067694 0.54750000646168628382;95.104207665701395058 68.935356757643290848 -0.26782184718783330624 98.666263560159265467 128.7561646663853594 -136.35525241761428106 104.51843368247099875 -0.94637574804268975726 -50.521813137837881413 -27.046808823649488573 -54.700488714456916739 -120.30202959585052724 -178.98305465267614522 169.47800848851761657 -69.975510679467802788 -8.0092800892915327893 -51.565758631374976062 -15.436930696434020049 56.583349041861275452 33.522442610293460064 47.31656533774497575 -35.36550731966738681 -30.948471201656321483 8.428328270572411185;-5.8555994955021830606 5.1720794589057641488 -0.27321668007983268556 2.6802922316080670662 -15.264999413332141387 -0.80508622183024081131 -12.34494216632818997 17.135839199271291733 13.231754843259686538 -8.7651483400656147182 -0.10452017457168494285 2.245353533703564608 24.616103549399774408 0.55030695159404163785 10.433083066541794182 -110.88066501149567955 -6.1279767150277004717 2.4801397558586621983 0.3498722490621585246 -4.5249131246097364922 -9.0746863820110270638 -0.19335878849680820935 2.387077446184285634 107.71796342709913574;-0.46482196291562549728 -86.764101932871980694 11.760651203519778107 54.623093251179795971 121.36523326285553992 -0.16115345499167244014 41.767683379512313024 -94.507929448140302497 -5.661242736706167733 98.90888358887799825 -45.763533454256645427 -47.694427725804885654 -99.813417948715070338 -14.540031353052834007 2.0533408410041369407 165.18178046615466315 -10.777303437538130026 5.3803385553346370074 32.107832245353684186 -25.14335884576373914 -19.856723548974230198 -1.8197324723820922365 -25.640780827345796666 -86.674812838329373221;-37.169332817526168355 0.96665577671070801458 0.65377665231386372646 -2.4198887142586684718 33.09828124093582602 0.21230034693786509203 2.4511879307404340622 -3.4435344973364392374 45.357279122768069612 -2.4919607079611294509 -1.3501961988515933655 3.9563186653060391507 -59.942927259063750967 -2.3752866861252965869 -4.7543898747298820595 3.5317588207350132379 -3.8261644140822776983 1.7673950232124158166 0.90763078209949099584 -2.2237567123605783692 25.722137957387403162 2.1652831980202358331 2.3202850996276414008 -0.18156794455366020991;20.026920919286190781 5.8437456734774482214 1.3283062369015505855 -4.2733016514231714211 -41.356026945937202299 -4.0768032428373448539 0.80254514753908323677 -1.3092180756783928786 -15.590013907129671722 -5.2156273747939208008 0.60369431071147316992 6.342323312446799477 64.185268800262178956 0.5962627108436375778 -1.3068513020860335061 4.0675861041292247222 -8.4459375806513143914 -0.78037693269404950769 -2.3982999870187433622 -0.20515755545683278527 -23.374594547459778937 3.8623620637390772004 1.9013375575253708138 -3.0794549312623242798;5.8930218754307306384 -219.88596904506269425 187.09313867331428582 82.006690409338119707 9.0008156559133034591 -159.6079971415021248 77.18183790098107977 12.400303486413882581 -88.53496758906126729 80.865169719553833261 115.09814743426642281 -75.633758635177187557 130.31142153455874677 195.95225001815288124 -12.786685260945631626 72.893850637765908118 38.757357994637864351 255.02136523925054234 -272.19608052102176998 28.123449106038126644 -86.602794221365385852 -8.2646210280310565821 -89.856574821660018415 -55.091898117215173158;-5.5307884648652390069 -15.814971046046352399 9.0347885218849608435 -70.437885499031068548 -8.6203232765185546782 0.64495799094267969309 42.812655446405138093 -32.849157558966567194 -19.301198656611173732 27.091147189277620555 -33.257320136540478472 117.57261536151339953 -2.0311395105994773935 22.657806627412508504 -33.336375313582813362 46.162502668276964357 15.607303168605906052 -6.502189069782887465 20.310921514881414396 -58.899957925332842024 10.668921477606097881 -20.418431750337052932 -6.3981498504331941746 -23.115353227215361898;-52.947711025383647154 -14.038996002032710919 4.8983484409730468911 -17.587313430256550362 -28.406923802896798747 32.550003296305661138 -20.889355748017134573 77.954462384582313916 57.577355615253317467 18.13958017155611202 1.2725252804875208934 22.697309569559251941 57.81012389335809587 -43.09438763158226493 29.454813779565473197 -113.49079375953326121 1.649541956817069277 1.4181794292304554794 -5.4122766596099367575 -3.775143122663617401 -24.295491817846471605 6.7678935476802566384 -10.997460444391681023 44.775383478552214456;-116.24634493327693008 61.048538387623530355 37.563216471735714208 -15.680336953971576008 -12.843116806363054749 72.442244649814981017 -38.821185719266850356 2.1094421076127480852 77.576630493502023 -120.60695739143959315 -155.08622468060352162 -34.32690269034849706 -2.9875388635233592893 -18.118130357104313077 56.977720229283747244 47.968458108283464014 48.383473264051644946 60.457955311607626925 127.9296665399785411 64.886224367082846243 17.413843666228110862 -39.431819113681413569 -6.5372922569244611424 -28.168960622896463519;8.632173882812661958 8.0115658332391888052 28.305344028582503313 -12.978671383791372307 -52.927960946614334148 82.335665405923876392 54.194908443487129546 -58.025318044473344514 -4.5029727187117147835 -16.440972641239849139 77.213987926313208732 -3.490059648437119133 111.21099887720289701 -1.5238488469105675449 0.98461114824146300784 88.782432904589740019 -34.423042302833003703 28.810851247191777702 -77.10072145597234794 -9.7553140257720905026 -88.488725714368996478 -68.316546460967487064 -17.190406288296781412 -14.654012271423161096;73.076833892680596705 -34.374312660654865681 1.4468668514597731178 -0.024610362506340965894 -75.48548048485452 -29.355903081485799078 16.243753197386070042 11.86408000711203492 -111.14915265753045048 36.319781043181862401 8.9154017518754979932 4.2632773809699306966 118.56837807033502941 42.297489266981614264 -18.723444055181040824 -20.112659601042309987 21.139825444542385213 2.2808422481987324915 -12.363310038361397858 -1.2668795362567841778 -30.543468929035835657 -13.58300784530384675 1.1442376110866776528 5.8899008596864588228;-55.83914627489303939 46.899853113249264425 15.328701924055067707 10.730525082947636406 0.043793518363398842297 38.765682576854445074 -40.216142755185295243 2.9534726183862822779 57.600954355444869748 -26.346481112324518392 -0.69047498085105996068 -10.463599168136545003 32.67959483125478215 -10.203420619150445958 -3.1666696138065320021 -3.1206656669857526509 8.2955628010814734807 -34.731348737282552008 -5.2604375966424914424 -35.122545796493184866 -20.022459370912141452 -26.865923854905204848 65.450003278284938801 -24.952890694162260132;37.048425481897055533 -87.207960549860217725 -13.122558468260169917 41.210589270953420282 113.78927782719485151 -13.401127296818454937 6.5817978443799667332 -19.819951001782705191 -25.057309446594604907 69.805510103087001994 -54.425846066412006508 -15.21123881425772062 -104.48773651517537076 -53.139232566895600485 -32.094550411701050052 39.168711163817420129 -22.745215484105003156 29.57086866735042463 60.626547120861481233 -16.226739469408741456 -20.631902433529074159 90.92635509019055462 22.502466943970301116 -22.480346992532449946;51.965741834941375998 -47.816123984439045103 -3.4968508567141887156 35.78808417490542837 -73.959038120745347555 -20.437445718916798398 10.267257232464238825 -70.817680047940342547 -44.797917570669163467 84.36690409252877032 193.52328431318349544 24.190935774997093688 13.885481859789351233 72.240426752621885953 -71.96188335044395501 41.859766638730057764 53.031455582406572091 -37.675450007628946025 -207.74148656386654466 -45.294921140360280276 42.417681174687366763 -11.505451953449071567 -20.878589189585504471 -28.145552974220567677;112.00231226002115648 36.810015861468770026 15.351331849050342981 -8.1879836703175534751 4.0151505912155842637 -49.669323810820174003 -38.536421400215360222 115.22168392336540421 -151.56782544037017146 87.682106256804658528 -13.072089405497907322 20.404146665404923056 -40.814387004467910458 60.412239591810440231 16.62566253547443651 -155.9491404941234407 33.962780378627719813 -105.18682161455764401 0.95089862139020708831 -11.293410331102990085 22.439437250994608064 -10.423448476319332912 9.7108921313341234338 47.330163411622045544;-30.004292743697149604 51.369767315322398815 14.551678418317004926 39.61751035096296647 9.2768379823561737396 17.10996890420115335 26.459686609503144439 -79.520975810519473725 27.356317039498680543 -128.06813227144485268 -84.863309317168102552 -72.626617261196543041 49.297352248478254921 -13.143178246470686332 10.837848492624235774 126.81553356558946177 47.770429697672589953 53.198548741611496382 114.00900943065981608 -11.010972574873987284 -27.581585241237597472 19.781550853034588044 -1.4881515778754983437 -49.227704715963248816];

% Layer 2
b2 = [0.26279539973084375948;0.026058098303667009965;1.3022388116592078511];
LW2_1 = [-0.017504079918966776452 0.013930878053591951027 -0.047006643565542384489 -0.1948298376012960742 0.0012813112711732967466 0.1068900927272837531 0.28042799260968809261 -0.011976320834972447454 0.011497172408438206814 -0.057199222592249174268 0.059985585844421977775 0.06093432186069509815 0.018675371175699513604 -0.0050182866197605174863 -0.026605697598487035305 0.00096167963630615837731 -0.016673927551131215163 0.013711151564794209212 -0.078556833931630043466 0.044473306555761531189 -0.014990287194542855492 0.053052613975519705147 -0.05584510181656839739 -0.10158343004666382792 0.060213381620968328689 -0.0011465619781213156475 -0.034216890402598607035 0.046885141782815706324 0.014009902974415861659 0.00071045054518354029682 -0.0071694997138763852731 -0.0035561095535254316595 0.030023534028724721545 -0.59528811347623855621 -0.018840269306232476643 0.065423967417226072674 -0.01179540366773829986 0.27208984450419482215 0.063728545856225643496 -0.041829948555747703542 0.039079709755315675257 0.00051938202781559150017 -0.035540454641278196313 0.0059395194286659819261 -0.046696738414563995767 0.025595098790646281239 -0.014354941213059222577 0.010269875660886804841 0.0097167121738660905406 0.040756980056845942828;-0.028892431313870335641 -0.034975972360019473573 0.030552130208484136464 -0.051954835482005197467 0.0084059792492269906627 -0.039786233589397382304 0.072921054957615610848 -0.023876787087147820221 -0.014570345942478513807 0.028315340216145977459 0.045058769908326051779 0.0069066850111458646944 -0.0060004405571328070165 0.0084216993617606053513 0.00034705387889154889342 0.0016580315368486839116 0.00025084337404530357082 -0.061481231703062556859 0.04822648741561021829 -0.10258301098450184341 -0.034649098375151635154 -0.031053330566786871425 0.072932414134772222125 0.023711145408328526685 -0.11148701600742898232 -0.25452088835806480072 0.03045813949510332852 -0.27347589186944887274 -0.015478138624967826414 0.014668137658044522881 -0.026299901317869783107 0.0032880525925065955117 -0.012883756450623739392 -0.15146744742803852635 -0.0070057959884228006298 -0.35649134057774889417 -0.037481197286900420906 0.38236249037633129877 0.13420026184026645488 0.022384807445192146658 0.017912506637173763319 0.097973537975207664052 0.014631045427325940766 0.0047379125084276527829 0.076348989559173477404 -0.011329978455829954609 -0.021788949281775823325 -0.035880836501548940554 -0.021808202337590381487 -9.6315611433167580557e-05;-0.015974788633763170598 0.022052882374160441559 0.057071431103915090666 0.17627662915990019443 0.026648808449563028689 -0.068998987803436384603 -0.12480187471713413694 0.040864312655084215897 0.0062846930472567653914 0.024556571744724527834 -0.051326799216384930147 0.036731004481338230816 -0.013619181022897601518 0.044426548401070964367 0.0033275373978716021872 0.037877751481357156693 -0.029706289322490909283 0.1008012747433588846 -0.015558698626929535341 -0.0078712501762754696899 0.06091627609351191186 -0.066999207245233449726 0.0021475483509954774661 0.0011706288635919687158 0.15359995638100046311 -0.3259707010119998194 -0.047269134737083468023 0.26351375259070597412 0.008681491132792628837 -0.022409062531492725256 -0.037758596686179736468 -0.027567913022579194904 -0.040271457738371714552 -0.11326035185333466204 0.031097812678589492608 0.28502912106653305324 -0.0067453238525800596204 0.47878797690589602887 0.14920589341476811485 -0.014693904631065655281 -0.064270345092121830555 -0.11082049019028054893 -0.013553923607413309593 -0.035519223378483275044 0.03867643832368196366 -0.01590411378207470805 -0.042608017700399715422 -0.014740267770775786552 0.015494150151656258668 -0.015855699935475364715];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.0348008188409868;0.0347915211317778;2];
y1_step1.xoffset = [0.028107379999735;0.00294356330955342;0.5];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
    X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},1); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS
    
    % Input 1
    X{1,ts} = X{1,ts}';
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
    Y{1,ts} = Y{1,ts}';
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
    Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
